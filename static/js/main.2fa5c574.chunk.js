(this["webpackJsonpmi-new-aeroset"]=this["webpackJsonpmi-new-aeroset"]||[]).push([[0],{539:function(e){e.exports=JSON.parse('{"a":30}')},567:function(e,t,n){e.exports=n(935).wrap(n(929)()),e.exports.__esModule=!0},929:function(e,t,n){e.exports=function(){return new Worker(n.p+"ae4bf8e8e2e219d0a726.worker.js")}},934:function(e,t,n){"use strict";n.r(t);var i=n(4),r=n.n(i),a=n(61),o=n.n(a),c=n(167),s=n(280),l=n(530);c.a.use(l.a).use(s.e).init({fallbackLng:"en",initImmediate:!1,lng:"ru",debug:!0,interpolation:{escapeValue:!1}});c.a;var u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(591);var h,b,p=n(64),f=n(208),j=n(95),m=n(70),O=n(45),v=Object(m.d)({name:"pointCloudSectionReducer",initialState:{isActive:!0,pointsCloudFile:null},reducers:{pointCloudLoadFile:function(e,t){return Object(O.a)(e,(function(e){e.pointsCloudFile=t.payload}))}}}),g=v.actions,x=v.reducer,y=g.pointCloudLoadFile,w=x,k=Object(m.d)({name:"schemeSectionReducer",initialState:{isActive:!0,schemeFile:null,schemeFileLoadError:null},reducers:{schemeLoadFile:function(e,t){return Object(O.a)(e,(function(e){}))},schemeFileLoadError:function(e,t){return Object(O.a)(e,(function(e){e.schemeFileLoadError=t.payload}))}}}),_=k.actions,C=k.reducer,S=_.schemeLoadFile,I=_.schemeFileLoadError,P=C,T=function(){return Object(j.c)({pointCloud:w,activeScheme:P})},A=Object(m.d)({name:"pointCloudPanelReducer",initialState:{isActive:!1,filterXFromLimit:-100,filterXToLimit:100,filterYFromLimit:-100,filterYToLimit:100,filterZFromLimit:-100,filterZToLimit:100},reducers:{changeXFromLimit:function(e,t){return Object(O.a)(e,(function(e){e.filterXFromLimit=t.payload}))},changeXToLimit:function(e,t){return Object(O.a)(e,(function(e){e.filterXToLimit=t.payload}))},changeYFromLimit:function(e,t){return Object(O.a)(e,(function(e){e.filterYFromLimit=t.payload}))},changeYToLimit:function(e,t){return Object(O.a)(e,(function(e){e.filterYToLimit=t.payload}))},changeZFromLimit:function(e,t){return Object(O.a)(e,(function(e){e.filterZFromLimit=t.payload}))},changeZToLimit:function(e,t){return Object(O.a)(e,(function(e){e.filterZToLimit=t.payload}))},showPointCloudPanel:function(e){return Object(O.a)(e,(function(e){e.isActive=!0}))},closePointCloudPanel:function(e){return Object(O.a)(e,(function(e){e.isActive=!1}))}}}),L=function(e){return e.ui.panels.pointCloud.isActive},R=function(e){return e.ui.panels.pointCloud},M=A.actions,N=A.reducer,z=M.changeXFromLimit,E=M.changeXToLimit,F=M.changeYFromLimit,B=M.changeYToLimit,G=M.changeZFromLimit,U=M.changeZToLimit,D=M.showPointCloudPanel,V=M.closePointCloudPanel,W=N,H=Object(m.d)({name:"schemePanelReducer",initialState:{isActive:!1,schemeFile:null},reducers:{showSchemePanel:function(e){return Object(O.a)(e,(function(e){e.isActive=!0}))},closeSchemePanel:function(e){return Object(O.a)(e,(function(e){e.isActive=!1}))}}}),Y=function(e){return e.ui.panels.activeScheme.isActive},X=H.actions,Z=H.reducer,K=X.showSchemePanel,q=X.closeSchemePanel,J=Z;!function(e){e[e.Default=0]="Default",e[e.Iron=1]="Iron",e[e.Aeroset=2]="Aeroset"}(h||(h={})),function(e){e[e.Air=0]="Air",e[e.Pressure=1]="Pressure",e[e.None=2]="None"}(b||(b={}));var $,Q={isActive:!1,gradient:h.Default,activeModel:b.None},ee=Object(m.d)({name:"schemeModelsReducer",initialState:Q,reducers:{showSchemeModelsPanel:function(e){return Object(O.a)(e,(function(e){e.isActive=!0}))},colorGradientChanged:function(e,t){return Object(O.a)(e,(function(e){e.gradient=t.payload}))},setActiveModel:function(e,t){return Object(O.a)(e,(function(e){e.activeModel=t.payload}))},closeSchemeModelsPanel:function(e){return Object(O.a)(e,(function(e){e.isActive=!1}))}}}),te=function(e){return e.ui.panels.schemeModels.isActive},ne=function(e){return e.ui.panels.schemeModels.gradient},ie=function(e){return e.ui.panels.schemeModels.activeModel},re=ee.actions,ae=ee.reducer,oe=re.showSchemeModelsPanel,ce=re.closeSchemeModelsPanel,se=re.colorGradientChanged,le=re.setActiveModel,ue=ae,de=function(){return Object(j.c)({pointCloud:W,activeScheme:J,schemeModels:ue})};!function(e){e[e.Perspective=0]="Perspective",e[e.Orthographic=1]="Orthographic"}($||($={}));var he={target:{x:0,y:0,z:0},mode:$.Orthographic},be=Object(m.d)({name:"cameraReducer",initialState:he,reducers:{cameraTargetChanged:function(e,t){return Object(O.a)(e,(function(e){e.target=t.payload}))},cameraModeChanged:function(e,t){return Object(O.a)(e,(function(e){e.mode=t.payload}))}}}),pe=function(e){return e.ui.camera.target},fe=function(e){return e.ui.camera.mode},je=be.actions,me=be.reducer,Oe=je.cameraTargetChanged,ve=je.cameraModeChanged,ge=me,xe=Object(m.d)({name:"sceneReducer",initialState:{isTargetAxisVisible:!1},reducers:{setTargetAxisVisibility:function(e,t){return Object(O.a)(e,(function(e){e.isTargetAxisVisible=t.payload}))}}}),ye=function(e){return e.ui.scene.isTargetAxisVisible},we=xe.actions,ke=xe.reducer,_e=we.setTargetAxisVisibility,Ce=ke,Se=function(){return Object(j.c)({sections:T(),panels:de(),camera:ge,scene:Ce})},Ie=Object(m.c)({selectId:function(e){return e.id},sortComparer:function(e,t){return-1}}),Pe=Object(m.d)({name:"schemesReducer",initialState:Ie.getInitialState({loading:"idle"}),reducers:{schemesAddOne:Ie.addOne,schemesAddMany:Ie.addMany,schemesUpdate:Ie.updateOne,schemesRemove:Ie.removeOne}}),Te=Ie.getSelectors().selectById,Ae=Pe.actions,Le=Pe.reducer,Re=Ae.schemesAddOne,Me=(Ae.schemesAddMany,Ae.schemesUpdate,Ae.schemesRemove,Le),Ne=function(){return Object(j.c)({schemes:Me})},ze=n(316),Ee=Object(m.d)({name:"activeSchemeReducer",initialState:{activeSchemeId:null,activeSchemeUI:null,activeSchemeMode:0,activeScaleFactor:{x:1,y:1,z:1},isSchemeLoading:!1},reducers:{setActiveScaleFactor:function(e,t){return Object(O.a)(e,(function(e){e.activeScaleFactor=t.payload}))},activeSchemeIdChanged:function(e,t){return Object(O.a)(e,(function(e){e.activeSchemeId=t.payload}))},activeSchemeUIChanged:function(e,t){return Object(O.a)(e,(function(e){e.activeSchemeUI=t.payload}))},activeSchemeUIUpdated:function(e,t){return Object(O.a)(e,(function(e){e.activeSchemeUI=t.payload}))},schemeModeChanged:function(e,t){return Object(O.a)(e,(function(e){e.activeSchemeMode=t.payload}))},isSchemeLoading:function(e,t){return Object(O.a)(e,(function(e){e.isSchemeLoading=t.payload}))}}}),Fe=(Object(ze.a)([],(function(e){var t=pi.getState().entity.schemes;return Te(t,e)})),function(e){return e.domain.activeScheme.activeSchemeMode}),Be=Ee.actions,Ge=Ee.reducer,Ue=Be.activeSchemeIdChanged,De=Be.schemeModeChanged,Ve=Be.isSchemeLoading,We=Be.activeSchemeUIChanged,He=Be.setActiveScaleFactor,Ye=Be.activeSchemeUIUpdated,Xe=Ge,Ze=function(){return Object(j.c)({activeScheme:Xe})},Ke=n(538),qe=Object(m.d)({name:"authReducer",initialState:{user:null,isAuthorizing:!1,organization:null,schemes:[],roles:[],meta:null,modules:[],familiarUsers:[]},reducers:{setAuthUser:function(e,t){return Object(O.a)(e,(function(e){e.user=t.payload}))},setIsAuthorization:function(e,t){return Object(O.a)(e,(function(e){e.isAuthorizing=t.payload}))},setOrganization:function(e,t){return Object(O.a)(e,(function(e){e.organization=t.payload}))},setRoles:function(e,t){return Object(O.a)(e,(function(e){e.roles=t.payload}))},setMeta:function(e,t){return Object(O.a)(e,(function(e){e.meta=t.payload}))},setModules:function(e,t){return Object(O.a)(e,(function(e){e.modules=t.payload}))},setFamiliarUsers:function(e,t){return Object(O.a)(e,(function(e){e.familiarUsers=t.payload}))},deleteFamiliarUser:function(e,t){return Object(O.a)(e,(function(e){var n=e.familiarUsers.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&e.familiarUsers.slice(n,1)}))},addFamiliarUser:function(e,t){return Object(O.a)(e,(function(e){e.familiarUsers.push(t.payload)}))},updateFamiliarUser:function(e,t){return Object(O.a)(e,(function(e){var n=e.familiarUsers.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.familiarUsers[n]=t.payload)}))},setUserSchemes:function(e,t){return Object(O.a)(e,(function(e){e.schemes=t.payload}))},deleteUserScheme:function(e,t){return Object(O.a)(e,(function(e){var n=e.schemes.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&e.schemes.slice(n,1)}))},addUserScheme:function(e,t){return Object(O.a)(e,(function(e){e.schemes.push(t.payload)}))},updateUserScheme:function(e,t){return Object(O.a)(e,(function(e){var n=e.familiarUsers.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.schemes[n]=t.payload)}))}}}),Je=function(e){return null!==e.auth.user},$e=Object(m.b)("auth/sigIn"),Qe=qe.actions,et=qe.reducer,tt=Qe.setAuthUser,nt=Qe.setIsAuthorization,it=(Qe.addFamiliarUser,Qe.addUserScheme,Qe.deleteFamiliarUser,Qe.deleteUserScheme,Qe.setFamiliarUsers,Qe.setMeta,Qe.setModules,Qe.setOrganization,Qe.setRoles,Qe.setUserSchemes,Qe.updateFamiliarUser,Qe.updateUserScheme,et);n(537);var rt=n(570),at=n(37),ot=n.n(at),ct=n(54);function st(e){return Object(ct.d)(e)}var lt=n(119),ut=function(e){if(e){var t,n=Object(lt.a)(e.nodes);try{for(n.s();!(t=n.n()).done;){t.value.mesh.dispose()}}catch(a){n.e(a)}finally{n.f()}var i,r=Object(lt.a)(e.ribs);try{for(r.s();!(i=r.n()).done;){i.value.mesh.dispose()}}catch(a){r.e(a)}finally{r.f()}e.parent.dispose()}},dt=ot.a.mark(ht);function ht(e){var t;return ot.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.payload){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,st((function(e){return e.domain.activeScheme.activeSchemeUI}));case 5:(t=n.sent)&&ut(t);case 7:case"end":return n.stop()}}),dt)}var bt=function(e){return e.replace(/\n/g,"").replace(/\r/g,"").replace(/\t/g,"")};var pt=function(e){return new Promise((function(t,n){var i=new FileReader;i.onload=function(){var e,n,r,a=i.result,o=bt(a),c=JSON.parse(o),s=new Array,l=Object(lt.a)(c.nodes);try{for(l.s();!(e=l.n()).done;){var u=e.value,d=(n=1,r=10,Math.floor(Math.random()*(r-n+1)+n));s.push({nodeId:u.id,value:d})}}catch(h){l.e(h)}finally{l.f()}t(c)},i.onerror=n;var r=e;i.readAsText(r)}))},ft=ot.a.mark(jt);function jt(e){var t,n;return ot.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.payload){i.next=3;break}return i.abrupt("return");case 3:return i.prev=3,i.next=6,Object(ct.b)(pt,t);case 6:return n=i.sent,i.next=9,Object(ct.c)(Re(n));case 9:return i.next=11,Object(ct.c)(Ue(n.id));case 11:i.next=17;break;case 13:return i.prev=13,i.t0=i.catch(3),i.next=17,Object(ct.c)(I(i.t0));case 17:case"end":return i.stop()}}),ft,null,[[3,13]])}n(478);var mt,Ot,vt,gt,xt,yt,wt,kt=n(77),_t=n(141),Ct=n(140),St=n(152),It=n.n(St),Pt=Object(Ct.injectable)()(mt=function(){function e(){Object(kt.a)(this,e),this.eventEmitter=new It.a.EventEmitter}return Object(_t.a)(e,[{key:"subscribe",value:function(e,t){this.eventEmitter.listeners(e).map((function(e){return e.name})).includes(t.name)||this.eventEmitter.addListener(e,t)}},{key:"unsubscribe",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"send",value:function(e,t){this.eventEmitter.emit(e,[t])}}]),e}())||mt,Tt=Symbol.for("INFRASTRUCTURE_SERVICE"),At=Symbol.for("EVENT_BUS_SERVICE"),Lt=Symbol.for("VERSION_SERVICE"),Rt=Symbol.for("KEYBOARD_SERVICE"),Mt=Symbol.for("COLOR_GRADIENT_SERVICE"),Nt=Symbol.for("REPLICATION_SERVICE"),zt=n(81),Et=n(539),Ft=n(393),Bt=n.n(Ft),Gt=Object(Ct.injectable)()((gt=vt=function(){function e(){Object(kt.a)(this,e),this.Initialize()}return Object(_t.a)(e,[{key:"Initialize",value:function(){var t=Object(zt.a)(ot.a.mark((function t(){var n,i,r;return ot.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Bt()().year(),i=Bt()().month()+1,r=0,i<=3?r=1:i<=6?r=2:i<=9?r=3:i<=12&&(r=4),e._version="".concat(n,".").concat(r,".").concat(Et.a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"GetVersion",value:function(){return e._version}}]),e}(),vt._version="None",Ot=gt))||Ot,Ut="SHOW_SNACKBAR_EVENT",Dt="SHOW_NEW_VERSION_EVENT",Vt="CLOSE_DRAWER_EVENT",Wt="OPEN_BOTTOM_DRAWER_EVENT",Ht="KEY_PRESSED_EVENT",Yt="KEY_UNPRESSED_EVENT",Xt="CANVAS_MOUSE_CLICK_EVENT",Zt=Object(Ct.injectable)()(xt=function(){function e(){Object(kt.a)(this,e),this.initialize()}return Object(_t.a)(e,[{key:"initialize",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1),document.addEventListener("keyup",this.handleKeyUp,!1)}},{key:"handleKeyDown",value:function(e){fn.get(At).send(Ht,e.key)}},{key:"handleKeyUp",value:function(e){fn.get(At).send(Yt,e.key)}}]),e}())||xt,Kt=function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(kt.a)(this,e),this.Red=void 0,this.Green=void 0,this.Blue=void 0,this.Alpha=void 0,this.CSSProperty=void 0,this.Red=t,this.Green=n,this.Blue=i,this.Alpha=r,this.CSSProperty="rgba("+t+","+n+","+i+","+r+") "},qt=n(116),Jt=n(246),$t=n(249),Qt=n(132),en=n(102),tn=function e(t,n){Object(kt.a)(this,e),this.position=void 0,this.color=void 0,this.position=t,this.color=n},nn=function(){function e(){Object(kt.a)(this,e),this._Name=void 0,this._BelowLimitColor=void 0,this._AboveLimitColor=void 0,this._Labels=void 0,this._Name="",this._BelowLimitColor=new Kt(0,0,0),this._AboveLimitColor=new Kt(0,0,0),this._Labels=[]}return Object(_t.a)(e,[{key:"Labels",get:function(){return this._Labels},set:function(e){this._Labels=e}},{key:"AboveLimitColor",get:function(){return this._AboveLimitColor},set:function(e){this._AboveLimitColor=e}},{key:"BelowLimitColor",get:function(){return this._BelowLimitColor},set:function(e){this._BelowLimitColor=e}},{key:"Name",get:function(){return this._Name},set:function(e){this._Name=e}}]),e}(),rn=function(e){Object(Jt.a)(n,e);var t=Object($t.a)(n);function n(){var e,i,r,a,o;return Object(kt.a)(this,n),o=t.call(this),Object(Qt.a)((e=Object(qt.a)(o),Object(en.a)(n.prototype)),"Name","Default",e,!0),Object(Qt.a)((i=Object(qt.a)(o),Object(en.a)(n.prototype)),"BelowLimitColor",new Kt(255,255,255),i,!0),Object(Qt.a)((r=Object(qt.a)(o),Object(en.a)(n.prototype)),"Labels",[new tn(0,new Kt(255,0,0)),new tn(25,new Kt(255,255,0)),new tn(50,new Kt(0,255,0)),new tn(75,new Kt(0,255,255)),new tn(100,new Kt(0,0,255))],r,!0),Object(Qt.a)((a=Object(qt.a)(o),Object(en.a)(n.prototype)),"AboveLimitColor",new Kt(0,0,0),a,!0),o}return n}(nn),an=function(e){Object(Jt.a)(n,e);var t=Object($t.a)(n);function n(){var e,i,r,a,o;return Object(kt.a)(this,n),o=t.call(this),Object(Qt.a)((e=Object(qt.a)(o),Object(en.a)(n.prototype)),"Name","Iron",e,!0),Object(Qt.a)((i=Object(qt.a)(o),Object(en.a)(n.prototype)),"BelowLimitColor",new Kt(255,255,255),i,!0),Object(Qt.a)((r=Object(qt.a)(o),Object(en.a)(n.prototype)),"Labels",[new tn(0,new Kt(255,255,255)),new tn(15,new Kt(250,230,35)),new tn(30,new Kt(250,185,0)),new tn(50,new Kt(240,80,35)),new tn(67,new Kt(170,10,170)),new tn(90,new Kt(15,5,100)),new tn(100,new Kt(0,0,0))],r,!0),Object(Qt.a)((a=Object(qt.a)(o),Object(en.a)(n.prototype)),"AboveLimitColor",new Kt(0,0,0),a,!0),o}return n}(nn),on=function(e){Object(Jt.a)(n,e);var t=Object($t.a)(n);function n(){var e,i,r,a,o;return Object(kt.a)(this,n),o=t.call(this),Object(Qt.a)((e=Object(qt.a)(o),Object(en.a)(n.prototype)),"Name","Aeroset",e,!0),Object(Qt.a)((i=Object(qt.a)(o),Object(en.a)(n.prototype)),"BelowLimitColor",new Kt(255,255,255),i,!0),Object(Qt.a)((r=Object(qt.a)(o),Object(en.a)(n.prototype)),"AboveLimitColor",new Kt(38,38,38),r,!0),Object(Qt.a)((a=Object(qt.a)(o),Object(en.a)(n.prototype)),"Labels",[new tn(0,new Kt(249,30,30)),new tn(10,new Kt(252,102,28)),new tn(30,new Kt(242,235,38)),new tn(50,new Kt(38,242,84)),new tn(70,new Kt(28,252,204)),new tn(90,new Kt(28,173,252)),new tn(100,new Kt(28,56,252))],a,!0),o}return n}(nn),cn=Object(Ct.injectable)()(yt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Default",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;Object(kt.a)(this,e),this.gradientTypes=void 0,this.Gradient=new rn,this.MinParameter=1,this.MaxParameter=10,this.gradientTypes=[new rn,new an,new on],this.setGradient(t),this.setMinParameter(n),this.setMaxParameter(i)}return Object(_t.a)(e,[{key:"setGradient",value:function(e){this.Gradient=this.gradientTypes.find((function(t){return t.Name===e}))}},{key:"setMinParameter",value:function(e){this.MinParameter=e}},{key:"setMaxParameter",value:function(e){this.MaxParameter=e}},{key:"getColor",value:function(e){var t=(e-this.MinParameter)/(this.MaxParameter-this.MinParameter)*100;if(t<0)return this.Gradient.BelowLimitColor;if(t>100)return this.Gradient.AboveLimitColor;var n=this.Gradient.Labels.sort((function(e,t){return t.position-e.position})).find((function(e){return e.position<=t})),i=this.Gradient.Labels.sort((function(e,t){return e.position-t.position})).find((function(e){return e.position>=t}));if(n==i)return n.color;var r=Math.round(n.color.Red-(n.color.Red-i.color.Red)/(n.position-i.position)*(n.position-t)),a=Math.round(n.color.Green-(n.color.Green-i.color.Green)/(n.position-i.position)*(n.position-t)),o=Math.round(n.color.Blue-(n.color.Blue-i.color.Blue)/(n.position-i.position)*(n.position-t)),c=Math.round(n.color.Alpha-(n.color.Alpha-i.color.Alpha)/(n.position-i.position)*(n.position-t));return new Kt(r,a,o,c)}},{key:"getGradientAsCSSProperty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"to bottom",t="linear-gradient("+e+", ";for(var n in this.Gradient.Labels)t+=" rgba("+this.Gradient.Labels[n].color.Red+","+this.Gradient.Labels[n].color.Green+","+this.Gradient.Labels[n].color.Blue+","+this.Gradient.Labels[n].color.Alpha+") "+this.Gradient.Labels[n].position+"%, ";return t=t.slice(0,-2)+")"}}]),e}())||yt,sn=Object(Ct.injectable)()(wt=function(){function e(){Object(kt.a)(this,e),this._engine=void 0,this._scene=void 0,this._camera=void 0,this._light=void 0,this._resources=void 0}return Object(_t.a)(e,[{key:"resources",get:function(){return this._resources},set:function(e){this._resources=e}},{key:"light",get:function(){return this._light},set:function(e){this._light=e}},{key:"camera",get:function(){return this._camera},set:function(e){this._camera=e}},{key:"scene",get:function(){return this._scene},set:function(e){this._scene=e}},{key:"engine",get:function(){return this._engine},set:function(e){this._engine=e}}]),e}())||wt,ln=n(788).plugin(n(803)).plugin(n(810)).plugin(n(820));ln.adapter("worker",n(830));var un,dn=ln,hn=Object(Ct.injectable)()(un=function(){function e(){Object(kt.a)(this,e),this.isIndividual=!1,this.metaDatabase=void 0,this.schemeDatabase=void 0}return Object(_t.a)(e,[{key:"ConnectMetaDatabaseAsync",value:function(){var e=Object(zt.a)(ot.a.mark((function e(t,n,i){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isIndividual=i,e.next=3,this.CloseAsync();case 3:this.metaDatabase=new dn(t,{jwtauth:{token:function(){return n}},adapter:"worker"});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"ConnectSchemeDatabaseAsync",value:function(){var e=Object(zt.a)(ot.a.mark((function e(t,n){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.schemeDatabase){e.next=3;break}return e.next=3,this.schemeDatabase.close();case 3:this.schemeDatabase=new dn(t,{jwtauth:{token:function(){return n}},adapter:"worker"});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"CloseAsync",value:function(){var e=Object(zt.a)(ot.a.mark((function e(){var t,n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.metaDatabase&&(t=this.metaDatabase.close()),this.schemeDatabase&&(n=this.schemeDatabase.close()),e.next=4,Promise.all([t,n]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}())||un,bn=new Ct.Container({autoBindInjectable:!0,defaultScope:"Singleton",skipBaseClassChecks:!0});bn.bind(At).to(Pt).inSingletonScope(),bn.bind(Lt).to(Gt).inSingletonScope(),bn.bind(Rt).to(Zt).inSingletonScope(),bn.bind(Mt).to(cn).inSingletonScope(),bn.bind(Tt).to(sn).inSingletonScope(),bn.bind(Nt).to(hn).inSingletonScope();var pn,fn=bn,jn=n(30);!function(e){e[e.Topology=0]="Topology",e[e.RibGeometry=1]="RibGeometry"}(pn||(pn={}));var mn=function(e,t,n,i){var r=i.clone("sphere");return r.visibility=0,r},On=function(e,t,n,i){var r=i.clone("sphere node "+t);return r.visibility=1,r.freezeNormals(),r},vn=function(e,t,n,i){var r=jn.i.CreateTube("tube",[t,n],.02,null,null,3,e,!0,null,null);return r.freezeNormals(),r},gn=function(e,t,n){var i=t,r=n,a=jn.t.Distance(i,r),o=jn.j.CreateBox("ribCuboid",{width:.1,height:a,depth:.1},e),c=jn.t.Lerp(i,r,.5);o.position=c;var s=r.subtract(i);s.normalize();var l=new jn.t(s.x,0,s.z);l.normalize();var u=new jn.t(1,0,0),d=new jn.t(0,1,0),h=(new jn.t(0,-1,0),Math.acos(jn.t.Dot(l,u))),b=jn.t.Cross(l,u);b.normalize();var p=Math.acos(jn.t.Dot(s,d)),f=jn.t.Cross(s,d);f.normalize();var j=jn.o.RotationAxis(f,-p),m=jn.o.RotationAxis(b,-h),O=jn.r.ToDegrees(p);return Math.abs(O)<2||Math.abs(O-180)<2?o.rotationQuaternion=m:o.rotationQuaternion=j.multiply(m),o},xn=function(){var e=Object(zt.a)(ot.a.mark((function e(t,n,i,r){var a,o,c,s,l,u,d,h,b,p,f;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Array,o=new Array,c=new Array,s=new Array,e.t0=r,e.next=e.t0===pn.Topology?7:e.t0===pn.RibGeometry?10:13;break;case 7:return l=On,u=vn,e.abrupt("break",13);case 10:return l=mn,u=gn,e.abrupt("break",13);case 13:d=fn.get(Tt),h=new jn.i("parent",n),b=Object(lt.a)(t.nodes);try{for(f=function(){var e=p.value,i=e.id.toString(),r=d.resources.materials.nodeMaterial,b=d.resources.baseMeshes.nodeBaseMesh,f=l(n,i,r,b);f.setParent(h),o.push({mesh:f,nodeId:i});var j=100;f.position.x=e.point.x/j,f.position.y=e.point.z/10,f.position.z=e.point.y/j;var m=e.linkedNodes.filter((function(e){return!s.includes(e)})),O=new Array,v=e.point,g=new jn.t(v.x/j,v.z/10,v.y/j);if(m.length>0){var x,y=Object(lt.a)(m);try{var w=function(){var e=x.value,r=t.nodes.find((function(t){return t.id===e}));if(!r)return"continue";var o=r.point,s=new jn.t(o.x/j,o.z/10,o.y/j),l=d.resources.materials.ribMaterial,h=u(n,g,s,l);c.push({node1Id:e,node2Id:i,mesh:h,node1Point:g,node2Point:s});var b={mesh:h,nodeVector:g,linkedNodeVector:s};a.push(b),O.push(b)};for(y.s();!(x=y.n()).done;)w()}catch(I){y.e(I)}finally{y.f()}var k,_=a.filter((function(e){return e.linkedNodeVector.x===g.x&&e.linkedNodeVector.y===g.y&&e.linkedNodeVector.z===g.z})),C=Object(lt.a)(_);try{for(C.s();!(k=C.n()).done;){var S=k.value;O.push({mesh:S.mesh,nodeVector:g,linkedNodeVector:S.nodeVector})}}catch(I){C.e(I)}finally{C.f()}f.metadata={linkedRibsMetadata:O},s.push(e.id)}},b.s();!(p=b.n()).done;)f()}catch(i){b.e(i)}finally{b.f()}return e.abrupt("return",{nodes:o,ribs:c,parent:h});case 18:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),yn=function(e){return new Promise((function(t){return setTimeout(t,e)}))},wn=function(e,t,n){for(var i=e.getChildMeshes(),r=i[0].getBoundingInfo().boundingBox.minimumWorld,a=i[0].getBoundingInfo().boundingBox.maximumWorld,o=0;o<i.length;o++){var c=i[o].getBoundingInfo().boundingBox.minimumWorld,s=i[o].getBoundingInfo().boundingBox.maximumWorld;r=jn.t.Minimize(r,c),a=jn.t.Maximize(a,s)}var l=new jn.b(r,a);e.setBoundingInfo(l),e.showBoundingBox=!0;var u=l.boundingBox.center;return t.setTarget(u),t.radius=n,{x:u.x,y:u.y,z:u.z}};function kn(e,t,n){t.inertia=.5,t.upperBetaLimit=Math.PI-.1,t.angularSensibilityX=t.angularSensibilityY=1500,_n(e,t,n);var i=jn.t.Zero(),r=jn.s.Zero(),a=function(){!function(e,t,n){var i=e.pointerX-n.x,r=e.pointerY-n.y;n.copyFromFloats(e.pointerX,e.pointerY),function(e,t,n){var i=e/n.angularSensibilityX,r=t/n.angularSensibilityY;n.inertialAlphaOffset-=i,n.inertialBetaOffset-=r}(i,r,t)}(e,t,r)},o=function(){_n(e,t,n),e.onPointerObservable.removeCallback(a)};e.onPointerObservable.add((function(i){o(),0===i.event.button&&(_n(e,t,n),r.copyFromFloats(e.pointerX,e.pointerY),e.onPointerObservable.add(a,jn.m.POINTERMOVE))}),jn.m.POINTERDOWN),e.onPointerObservable.add((function(e,t){o()}),jn.m.POINTERUP),e.onPointerObservable.add((function(n){!function(e,t,n,i){if(n.radius-n.lowerRadiusLimit<1&&e>0)return;if(n.upperRadiusLimit-n.radius<1&&e<0)return;var r=1-n.inertia;n.radius-(n.inertialRadiusOffset+e)/r<n.lowerRadiusLimit?e=(n.radius-n.lowerRadiusLimit)*r-n.inertialRadiusOffset:n.radius-(n.inertialRadiusOffset+e)/r>n.upperRadiusLimit&&(e=(n.radius-n.upperRadiusLimit)*r-n.inertialRadiusOffset);var a=e/r/n.radius,o=function(e,t){t.target.subtract(t.position).normalize();var n=e.createPickingRay(e.pointerX,e.pointerY,jn.h.Identity(),t,!1),i=n.intersectsPlane(t.hitplane);return n.origin.addInPlace(n.direction.scaleInPlace(i))}(t,n).subtract(n.target).scale(a);o.scaleInPlace(r),i.addInPlace(o),n.inertialRadiusOffset+=e}(function(e,t){var n=e.event;n.preventDefault();var i=0;i=n.wheelDelta?n.wheelDelta:60*-(n.deltaY||n.detail);return i/(10*t.wheelPrecision)}(n,t),e,t,i)}),jn.m.POINTERWHEEL),e.onBeforeRenderObservable.add((function(){0===i.x&&0===i.y&&0===i.z||(t.target.addInPlace(i),i.scaleInPlace(t.inertia),function(e){Math.abs(e.x)<jn.g&&(e.x=0);Math.abs(e.y)<jn.g&&(e.y=0);Math.abs(e.z)<jn.g&&(e.z=0)}(i))})),e.onBeforeRenderObservable.add((function(){t.wheelPrecision=50})),e.getEngine().getRenderingCanvas().addEventListener("contextmenu",(function(e){e.preventDefault()}))}function _n(e,t,n){var i=t.target.subtract(t.position);t.hitplane=jn.k.FromPositionAndNormal(n,i),0+t.inertialAlphaOffset+t.inertialBetaOffset+t.inertialRadiusOffset&&window.setTimeout((function(){_n(e,t,n)}))}var Cn=ot.a.mark(Sn);function Sn(e,t){var n,i,r,a,o,c,s;return ot.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=fn.get(Tt),i=n.scene,r=n.camera,o=pi.getState().domain.activeScheme.activeSchemeUI,a=o?r.radius:20,l.next=7,Object(ct.c)(Ve(!0));case 7:return l.next=9,Object(ct.b)(xn,e,i,r,t);case 9:return c=l.sent,l.next=12,Object(ct.b)(yn,300);case 12:return s=wn(c.parent,r,a),o||kn(i,r,s),l.next=16,Object(ct.c)(Oe(s));case 16:return l.next=18,Object(ct.c)(We(c));case 18:return l.next=20,Object(ct.c)(Ve(!1));case 20:case"end":return l.stop()}}),Cn)}var In=ot.a.mark(Pn);function Pn(e){var t,n,i,r,a,o;return ot.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.payload){s.next=3;break}return s.abrupt("return");case 3:return n=pi.getState().entity.schemes,i=Te(n,t),r=pi.getState().domain.activeScheme.activeSchemeMode,s.next=8,Object(ct.b)(Sn,i,r);case 8:a=fn.get(At),o={message:c.a.t("scheme_successfully_uploaded"),alertType:"success"},a.send(Ut,o);case 11:case"end":return s.stop()}}),In)}var Tn=ot.a.mark(An);function An(e){var t,n,i,r,a,o;return ot.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(t=e.payload,n=pi.getState().entity.schemes,i=pi.getState().domain.activeScheme.activeSchemeId){s.next=5;break}return s.abrupt("return");case 5:return r=Te(n,i),s.next=8,Object(ct.b)(Sn,r,t);case 8:a=fn.get(At),o={message:c.a.t("scheme_mode_changed"),alertType:"success"},a.send(Ut,o);case 11:case"end":return s.stop()}}),Tn)}var Ln=ot.a.mark(Rn);function Rn(e){var t;return ot.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload,n.t0=t,n.next=n.t0===pn.Topology?4:n.t0===pn.RibGeometry?7:8;break;case 4:return n.next=6,Object(ct.c)(ce());case 6:case 7:return n.abrupt("break",8);case 8:case"end":return n.stop()}}),Ln)}var Mn=function(e,t,n){var i,r=t.x,a=t.y,o=t.z,c=Object(lt.a)(e.ribs);try{for(c.s();!(i=c.n()).done;){var s=i.value,l=s.mesh,u=s.node1Point,d=s.node2Point,h=1,b=1,p=1;l.metadata&&l.metadata.scale&&(h=l.metadata.scale.sx,b=l.metadata.scale.sy,p=l.metadata.scale.sz);var f=r/h,j=a/b,m=o/p,O=n,v=new jn.t(O.x+f*(u.x-O.x),O.y+j*(u.y-O.y),O.z+m*(u.z-O.z)),g=new jn.t(O.x+f*(d.x-O.x),O.y+j*(d.y-O.y),O.z+m*(d.z-O.z));l.unfreezeNormals();jn.i.CreateTube(null,[v,g],.02,null,null,null,null,!0,null,l);s.mesh.freezeNormals();var x={sx:h,sy:b,sz:p};l.metadata?l.metadata.scale=x:l.metadata={scale:x},s.mesh.computeWorldMatrix()}}catch(R){c.e(R)}finally{c.f()}var y,w=Object(lt.a)(e.nodes);try{for(w.s();!(y=w.n()).done;){var k=y.value.mesh,_=1,C=1,S=1;k.metadata&&k.metadata.scale&&(_=k.metadata.scale.sx,C=k.metadata.scale.sy,S=k.metadata.scale.sz);var I=r/_,P=a/C,T=o/S,A=n;k.position=new jn.t(A.x+I*(k.position.x-A.x),A.y+P*(k.position.y-A.y),A.z+T*(k.position.z-A.z));var L={sx:_,sy:C,sz:S};k.metadata?k.metadata.scale=L:k.metadata={scale:L},k.computeWorldMatrix()}}catch(R){w.e(R)}finally{w.f()}return null},Nn=ot.a.mark(zn);function zn(e){var t,n,i,r;return ot.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,st((function(e){return e.domain.activeScheme.activeSchemeUI}));case 3:if(!(n=a.sent)){a.next=11;break}return a.next=7,st((function(e){return e.ui.camera.target}));case 7:return i=a.sent,r=Mn(n,t,i),a.next=11,Object(ct.c)(Ye(r));case 11:case"end":return a.stop()}}),Nn)}var En=ot.a.mark(Fn);function Fn(){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.f)(Ve,ht);case 2:return e.next=4,Object(ct.f)(Ue,Pn);case 4:return e.next=6,Object(ct.f)(De,An);case 6:return e.next=8,Object(ct.e)(De,Rn);case 8:return e.next=10,Object(ct.e)(S,jt);case 10:return e.next=12,Object(ct.f)(He,zn);case 12:case"end":return e.stop()}}),En)}var Bn=ot.a.mark(Gn);function Gn(e){var t,n;return ot.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=fn.get(Tt),n=t.camera,e.payload===$.Perspective?(n.mode=jn.c.PERSPECTIVE_CAMERA,n.inertia=.5,n.lowerRadiusLimit=-1e3,n.upperRadiusLimit=1e3):(n.mode=jn.c.ORTHOGRAPHIC_CAMERA,n.inertia=.3,n.lowerRadiusLimit=n.radius,n.upperRadiusLimit=n.radius);case 3:case"end":return i.stop()}}),Bn)}var Un=ot.a.mark(Dn);function Dn(){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.f)(ve,Gn);case 2:case"end":return e.stop()}}),Un)}var Vn,Wn=ot.a.mark(Hn);function Hn(){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([Fn(),Dn()]);case 2:case"end":return e.stop()}}),Wn)}!function(e){e[e.Unknown=0]="Unknown",e[e.SignedIn=1]="SignedIn",e[e.SignedOut=2]="SignedOut"}(Vn||(Vn={}));var Yn=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;switch(Object(kt.a)(this,e),this.status=void 0,this.token=void 0,this.userInfo=void 0,this.status=void 0===t?Vn.Unknown:null===t?Vn.SignedOut:Vn.SignedIn,this.status){case Vn.SignedIn:this.userInfo=t,this.token=n,e.refreshTokenIntervalId=i;break;case Vn.Unknown:case Vn.SignedOut:e.refreshTokenIntervalId&&(clearInterval(e.refreshTokenIntervalId),e.refreshTokenIntervalId=void 0)}};Yn.refreshTokenIntervalId=void 0;var Xn=Yn,Zn=n(996),Kn=function(){var e=Object(zt.a)(ot.a.mark((function e(t){var n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fn.get(Nt),e.t0=t.status,e.next=e.t0===Vn.SignedIn?4:e.t0===Vn.SignedOut?7:12;break;case 4:return pi.dispatch(tt(t)),console.log("User status - SignedIn"),e.abrupt("break",14);case 7:return pi.dispatch(tt(null)),e.next=10,n.CloseAsync();case 10:return console.log("User status - SignedOut"),e.abrupt("break",14);case 12:return console.log("User status - Unknown"),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qn=new Zn.a(new Xn(void 0));qn.subscribe(Kn);var Jn=n(540),$n=n(541),Qn=n.n($n),ei=n(542),ti=n.n(ei),ni=new Qn.a({baseUrl:"".concat("http://localhost:8080","/auth"),realmName:"Aeroset",requestConfig:{paramsSerializer:function(e){return ti.a.stringify(e)}}});function ii(e,t){return ri.apply(this,arguments)}function ri(){return(ri=Object(zt.a)(ot.a.mark((function e(t,n){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",setInterval((function(){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ai=function(){var e=Object(zt.a)(ot.a.mark((function e(t,n){var i,r,a,o,c;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"foo@gmail.com"===t||"12345"===n){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return e.next=5,ni.auth({username:t,password:n,grantType:"password",clientId:"aeroset-client"});case 5:return i=ni.accessToken,r=Object(Jn.a)(i),a=r.sub,e.next=10,ni.users.findOne({id:a});case 10:return o=e.sent,e.next=13,ii(t,n);case 13:c=e.sent,qn.next(new Xn(o,i,c)),console.log(o),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),qn.next(new Xn({id:"df"}));case 22:return e.abrupt("return",Promise.resolve());case 23:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),oi=ot.a.mark(ci);function ci(e){var t;return ot.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.next=3,Object(ct.c)(nt(!0));case 3:return n.next=5,Object(ct.b)(ai,t.login,t.password);case 5:return n.next=7,Object(ct.c)(nt(!1));case 7:case"end":return n.stop()}}),oi)}var si=ot.a.mark(li);function li(){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.f)($e,ci);case 2:case"end":return e.stop()}}),si)}var ui=ot.a.mark(di);function di(){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ct.a)([Hn(),li()]);case 2:case"end":return e.stop()}}),ui)}var hi=Object(rt.a)(),bi=[].concat(Object(f.a)(Object(m.e)({thunk:!1,serializableCheck:!1,immutableCheck:!1})),[hi]);var pi=Object(m.a)({reducer:Object(j.c)({ui:Se(),entity:Ne(),auth:it,domain:Ze(),firestore:Ke.firestoreReducer}),preloadedState:{},middleware:bi,devTools:false});hi.run(di);var fi,ji=function(){return Object(p.b)()},mi=n(543),Oi=n(22),vi=n(544),gi=Object(Oi.createGlobalStyle)(fi||(fi=Object(mi.a)(["\n  ",";\n  \n   html, body {\n    padding: 0;\n    margin: 0;\n    height: 100%;\n    min-height: 100%;\n    min-width: 100%;\n    width: 100%;\n    font-family: 'Roboto', 'Segoe UI',sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    overflow:hidden;\n    box-sizing: border-box;\n    *, *:before, *:after {\n    box-sizing: inherit;\n    touch-action: none;\n    -ms-touch-action: none;\n    }\n  }\n\n  code {\n    font-family: source-code-pro, monospace;\n  }\n"])),vi.normalize),xi=n(312),yi=n(974),wi=n(130),ki=n(569),_i={app:{colors:{main:{white:"#ffffff",lightGray:"#f7f7f7",lightGraySecond:"#D3D3D3",mediumGray:"#969696",darkGray:"#363835",lightBlue:"#bee7f1",mediumBlue:"#7dd0e4",darkBlue:"#137cbf",lightGreen:""},palette:{white:"#ffffff",black:"",gray:"",blue1:{dark:"",light:"",medium:""},blue2:{dark:"",light:"",medium:""},blue3:{dark:"",light:"",medium:""},green:{dark:"",light:"",medium:""},orange:{dark:"",light:"",medium:""},purple1:{dark:"",light:"",medium:""},purple2:{dark:"",light:"",medium:""},red:{dark:"",light:"",medium:""},yellow:{dark:"",light:"",medium:""}}},font:"Roboto",sizes:{header:48,headerMobile:56,instrumentalPanel:32,footer:0},lang:"ru"}};var Ci,Si,Ii=(Ci=Object(wi.a)({},_i),Object(ki.a)(Object(wi.a)(Object(wi.a)({},Ci),_i))),Pi=n(11),Ti=function(e){var t=e.children;return Object(Pi.jsx)(xi.b,{injectFirst:!0,children:Object(Pi.jsx)(yi.a,{theme:Ii,children:Object(Pi.jsx)(Oi.ThemeProvider,{theme:Ii,children:t})})})};!function(e){e[e.white=0]="white",e[e.lightGray=1]="lightGray",e[e.lightGraySecond=2]="lightGraySecond",e[e.mediumGray=3]="mediumGray",e[e.darkGray=4]="darkGray",e[e.lightBlue=5]="lightBlue",e[e.mediumBlue=6]="mediumBlue",e[e.darkBlue=7]="darkBlue",e[e.lightGreen=8]="lightGreen"}(Si||(Si={}));var Ai=n(997),Li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return Object(Ai.a)(["theme","app"].concat(Object(f.a)(e)),t)}},Ri=function(e){return Li(["colors","main",Si[e]])},Mi=function(e){return Li(["sizes",e])},Ni=Oi.default.main.withConfig({displayName:"styles__Area",componentId:"p4p3g6-0"})(["","{height:calc(100vh - ","px);}","{height:calc(100vh - ","px);}background:",";"],(function(e){return e.theme.breakpoints.up("sm")}),(function(e){return Mi("header")(e)+Mi("footer")(e)+Mi("instrumentalPanel")(e)}),(function(e){return e.theme.breakpoints.down("sm")}),(function(e){return Mi("headerMobile")(e)}),Ri(Si.lightBlue)),zi=Oi.default.section.withConfig({displayName:"styles__AuthContainer",componentId:"p4p3g6-1"})(["visibility:",";width:100vw;height:100vh;"],(function(e){return e.isAuthenticated?"none":"block"})),Ei=Oi.default.section.withConfig({displayName:"styles__AppMainSection",componentId:"p4p3g6-2"})(["display:",";"],(function(e){return e.isAuthenticated?"block":"none"})),Fi=n(999),Bi=n(978),Gi=n(71),Ui=n(571),Di=n(984),Vi=n(1007),Wi=n(1006),Hi=Oi.default.div.withConfig({displayName:"style__HeaderPanelContainer",componentId:"sc-1qwcvkf-0"})(["background:",";height:","px;display:flex;align-items:center;flex-direction:row-reverse;padding-left:16px;padding-right:16px;"],Ri(Si.darkBlue),Mi("header")),Yi=n(977),Xi=n(553),Zi=n.n(Xi),Ki=n(562),qi=n.n(Ki),Ji=n(565),$i=n.n(Ji),Qi=n(557),er=n.n(Qi),tr=n(558),nr=n.n(tr),ir=n(982),rr=n(559),ar=n.n(rr),or=n(563),cr=n.n(or),sr=n(980),lr=n(981),ur=n(564),dr=n.n(ur),hr=n(556),br=n.n(hr),pr=n(555),fr=n.n(pr),jr=n(560),mr=n.n(jr),Or=n(554),vr=n.n(Or),gr=n(561),xr=n.n(gr),yr=Object(Oi.default)(Zi.a).withConfig({displayName:"icons__AppOpenPointCloudFiltersIcon",componentId:"kcxj5y-0"})(["color:",""],Ri(Si.darkGray)),wr=Object(Oi.default)(vr.a).withConfig({displayName:"icons__AppSettingsIcon",componentId:"kcxj5y-1"})(["color:",""],Ri(Si.white)),kr=Object(Oi.default)(fr.a).withConfig({displayName:"icons__AppLoadSchemeFile",componentId:"kcxj5y-2"})(["olor:",""],Ri(Si.darkGray)),_r=Object(Oi.default)(br.a).withConfig({displayName:"icons__AppClearPointCloudIcon",componentId:"kcxj5y-3"})(["color:",""],Ri(Si.darkGray)),Cr=Object(Oi.default)(er.a).withConfig({displayName:"icons__AppCloseIcon",componentId:"kcxj5y-4"})(["color:",""],Ri(Si.white)),Sr=Object(Oi.default)(nr.a).withConfig({displayName:"icons__AppArrowCloseLeft",componentId:"kcxj5y-5"})([""]),Ir=Object(Oi.default)(ar.a).withConfig({displayName:"icons__AppPointCloudIcon",componentId:"kcxj5y-6"})([""]),Pr=Object(Oi.default)(mr.a).withConfig({displayName:"icons__AppSchemeIcon",componentId:"kcxj5y-7"})([""]),Tr=Object(Oi.default)(sr.a).withConfig({displayName:"icons__AppExpandLess",componentId:"kcxj5y-8"})(["color:",""],Ri(Si.darkGray)),Ar=Object(Oi.default)(lr.a).withConfig({displayName:"icons__AppExpandMoreIcon",componentId:"kcxj5y-9"})(["color:",""],Ri(Si.darkGray)),Lr=Object(Oi.default)(xr.a).withConfig({displayName:"icons__AppModelsIcon",componentId:"kcxj5y-10"})(["color:",""],Ri(Si.darkGray)),Rr=Object(Oi.default)(qi.a).withConfig({displayName:"icons__AppPublishIcon",componentId:"kcxj5y-11"})(["","{color:","}","{color:","}"],(function(e){return e.theme.breakpoints.down("sm")}),Ri(Si.mediumGray),(function(e){return e.theme.breakpoints.up("sm")}),Ri(Si.white)),Mr=Object(Oi.default)(ir.a).withConfig({displayName:"icons__AppListItemIcon",componentId:"kcxj5y-12"})([""]),Nr=Object(Oi.default)(cr.a).withConfig({displayName:"icons__AppMenuIcon",componentId:"kcxj5y-13"})(["font-size:35px;color:",""],Ri(Si.white)),zr=Object(Oi.default)(dr.a).withConfig({displayName:"icons__AppMoreVertIcon",componentId:"kcxj5y-14"})(["font-size:35px;color:",""],Ri(Si.white)),Er=Object(Oi.default)($i.a).withConfig({displayName:"icons__AppUserAccountIcon",componentId:"kcxj5y-15"})(["font-size:35px;color:",""],Ri(Si.white)),Fr=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=r.a.useState(null),i=Object(Gi.a)(n,2),a=i[0],o=i[1],c=Boolean(a),s=function(){o(null)};return Object(Pi.jsx)(Hi,{children:Object(Pi.jsxs)("div",{children:[Object(Pi.jsx)(Vi.a,{title:t("user_account"),children:Object(Pi.jsx)(Yi.a,{size:"small",color:"primary",onClick:function(e){o(e.currentTarget)},style:{marginLeft:10},children:Object(Pi.jsx)(Er,{})})}),Object(Pi.jsx)(Ui.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:s,children:Object(Pi.jsx)(Di.a,{onClick:function(){s(),qn.next(new Xn(null))},children:t("sign_out")})})]})})})),Br=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=ji();return Object(Pi.jsxs)("div",{children:[Object(Pi.jsxs)(i.Fragment,{children:[Object(Pi.jsx)("input",{color:"primary",type:"file",onChange:function(e){var t;e.preventDefault();var i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&void 0!==i&&n(y(i)),e.preventDefault()},id:"icon-button-file",style:{display:"none"}}),Object(Pi.jsx)(Vi.a,{title:t("load_file_with_point_cloud"),children:Object(Pi.jsx)("label",{htmlFor:"icon-button-file",children:Object(Pi.jsx)(Yi.a,{component:"span",size:"small",color:"primary",children:Object(Pi.jsx)(Rr,{})})})})]}),Object(Pi.jsx)(Vi.a,{title:t("open_panel_point_cloud_filters"),children:Object(Pi.jsx)(Yi.a,{size:"small",color:"primary",onClick:function(){return n(D())},style:{verticalAlign:"bottom",marginLeft:8},children:Object(Pi.jsx)(yr,{})})}),Object(Pi.jsx)(Vi.a,{title:t("point_cloud_clear"),children:Object(Pi.jsx)(Yi.a,{size:"small",color:"primary",onClick:function(){return null},style:{verticalAlign:"bottom",marginLeft:8},children:Object(Pi.jsx)(_r,{})})})]})})),Gr=Oi.default.div.withConfig({displayName:"style__Panel",componentId:"cf9oyy-0"})(["background:",";height:","px;display:flex;flex-direction:row;align-items:center;padding-left:16px;padding-right:16px;"],Ri(Si.mediumGray),Mi("instrumentalPanel")),Ur=n(987),Dr=Object(Oi.default)(Ur.a).withConfig({displayName:"style__AppDivider",componentId:"ghjmxl-0"})(["background-color:",";"],Ri(Si.mediumGray)),Vr=Object(Oi.default)(Ur.a).withConfig({displayName:"style__AppDividerLight",componentId:"ghjmxl-1"})(["background-color:",";"],Ri(Si.lightGray)),Wr=Object(Oi.default)(Ur.a).withConfig({displayName:"style__AppDividerBold",componentId:"ghjmxl-2"})(["background-color:",";width:1.15px;height:24px;margin-left:8px;margin-right:8px;"],Ri(Si.lightGray)),Hr=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=ji();return Object(Pi.jsxs)("div",{children:[Object(Pi.jsxs)(i.Fragment,{children:[Object(Pi.jsx)("input",{color:"primary",type:"file",onChange:function(e){var t,i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&void 0!==i&&(n(S(i)),e.target.value="")},id:"scheme-load-file",style:{display:"none"}}),Object(Pi.jsx)(Vi.a,{title:t("load_file_with_scheme"),children:Object(Pi.jsx)("label",{htmlFor:"scheme-load-file",children:Object(Pi.jsx)(Yi.a,{component:"span",size:"small",color:"primary",children:Object(Pi.jsx)(kr,{})})})})]}),Object(Pi.jsx)(i.Fragment,{children:Object(Pi.jsx)(Vi.a,{title:t("scheme_display_settings"),children:Object(Pi.jsx)("label",{htmlFor:"scheme-open-display-settings",children:Object(Pi.jsx)(Yi.a,{onClick:function(){return n(K())},component:"span",size:"small",color:"primary",children:Object(Pi.jsx)(wr,{})})})})})]})})),Yr=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=ji();return Object(Pi.jsx)("div",{children:Object(Pi.jsx)(i.Fragment,{children:Object(Pi.jsx)(Vi.a,{title:t("scheme_models"),children:Object(Pi.jsx)("label",{htmlFor:"scheme-open-display-settings",children:Object(Pi.jsx)(Yi.a,{onClick:function(){return n(oe())},component:"span",size:"small",color:"primary",children:Object(Pi.jsx)(Lr,{})})})})})})})),Xr=Object(Oi.withTheme)((function(e){var t=Object(p.c)(Fe)==pn.RibGeometry;return Object(Pi.jsxs)(Gr,{children:[Object(Pi.jsx)(Br,{}),Object(Pi.jsx)(Wr,{orientation:"vertical"}),Object(Pi.jsx)(Hr,{}),Object(Pi.jsx)(Wr,{orientation:"vertical"}),t?Object(Pi.jsx)(Yr,{}):r.a.Fragment,t?Object(Pi.jsx)(Wr,{orientation:"vertical"}):r.a.Fragment]})}));n(407);function Zr(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}var Kr=Oi.default.canvas.withConfig({displayName:"style__Canvas",componentId:"sc-123iew8-0"})(["outline:none;display:block;margin:0;padding:0;width:100vw;touch-action:none;","{height:calc(100vh - ","px);}","{height:calc(100vh - ","px);}"],(function(e){return e.theme.breakpoints.up("sm")}),(function(e){return Mi("header")(e)+Mi("footer")(e)+Mi("instrumentalPanel")(e)}),(function(e){return e.theme.breakpoints.down("sm")}),(function(e){return Mi("headerMobile")(e)})),qr=Oi.default.div.withConfig({displayName:"style__PointCloudContainer",componentId:"sc-8ynvxi-0"})(['pointerEvents:"none";position:fixed;height:100%;width:100%;left:0;top:61.5px;background:transparent;pointer-events:none;']),Jr=n(567),$r=function(e,t,n){var i=new FileReader;i.onload=function(){var e=Object(zt.a)(ot.a.mark((function e(r){var a,o,s,l,u,d,h;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.result,o=new jn.n("pcs",3,n,{updatable:!1}),e.next=4,Object(Jr.filterPointCloudAsync)(a,t);case 4:return s=e.sent,l=function(){var e=Object(zt.a)(ot.a.mark((function e(t,n,i){var r,a,o;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s[n],a=r.vector,o=r.color,t.position=new jn.t(a.x,a.y,a.z),t.color=new jn.e(o.r,o.g,o.b,1);case 3:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),u=s.length,o.addPoints(u,l),e.next=10,o.buildMeshAsync();case 10:return e.sent,d=fn.get(At),h={message:c.a.t("point_cloud_successfully_uploaded"),alertType:"success"},d.send(Ut,h),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var r=e;i.readAsText(r)},Qr=n(205),ea=n.n(Qr),ta=n(341),na=n.n(ta),ia=Object(ze.a)([R,function(e){return e.ui.sections.pointCloud.pointsCloudFile}],(function(e,t){return{pointCloudFilters:e,file:t}})),ra=Object(i.forwardRef)((function(e,t){Object(i.useImperativeHandle)(t,(function(){return{initialize:d}}));var n=Object(i.useState)({engineData:null}),r=Object(Gi.a)(n,2),a=r[0],o=r[1],c=a.engineData,s=Object(p.c)(ia),l=s.pointCloudFilters,u=s.file,d=function(){var e=Object(zt.a)(ot.a.mark((function e(t){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({engineData:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u&&function(){var e=Object(zt.a)(ot.a.mark((function e(){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$r(u,l,c.scene);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),Object(Pi.jsx)(qr,{})})),aa=na()(ea()(null)(ra)),oa=n(248),ca=n.n(oa),sa=n(990),la=n(991),ua=n(1e3),da=n(281),ha=Oi.default.section.withConfig({displayName:"style__PanelContainer",componentId:"sc-1bzi2x3-0"})(["width:","px;height:","px;background:",";border-radius:5px;pointer-events:auto;visibility:",";"],(function(e){return e.width}),(function(e){return e.height}),Ri(Si.lightGray),(function(e){return e.isActive?"visible":"hidden"})),ba=Oi.default.strong.withConfig({displayName:"style__PanelHeaderContainer",componentId:"sc-1bzi2x3-1"})([""]),pa=Oi.default.div.withConfig({displayName:"style__PanelMobileContainer",componentId:"sc-1bzi2x3-2"})(["width:100%;display:flex;justify-content:center"]),fa=Oi.default.div.withConfig({displayName:"style__PanelHeader",componentId:"sc-1bzi2x3-3"})(["cursor:move;background:",";border-top-left-radius:5px;border-top-right-radius:5px;color:",";text-align:center;height:30px;"],Ri(Si.darkBlue),Ri(Si.white)),ja=Oi.default.div.withConfig({displayName:"style__PanelHeaderText",componentId:"sc-1bzi2x3-4"})(["margin-left:8px;align-content:center;display:inline-block;"]),ma=Object(Oi.default)(da.a).withConfig({displayName:"style__PanelHeaderTypography",componentId:"sc-1bzi2x3-5"})([""]),Oa=Oi.default.div.withConfig({displayName:"style__PanelBodyContainer",componentId:"sc-1bzi2x3-6"})(["margin:16px;"]),va=Object(Oi.default)(sa.a).withConfig({displayName:"style__FormControlStyled",componentId:"sc-1bzi2x3-7"})(["margin-left:16px;margin-right:16px;margin-top:8px;minWidth:120px;"]),ga=Object(Oi.default)(la.a).withConfig({displayName:"style__FormControlLabelStyled",componentId:"sc-1bzi2x3-8"})(["margin-left:8px;"]),xa=Object(Oi.default)(ua.a).withConfig({displayName:"style__SelectStyled",componentId:"sc-1bzi2x3-9"})(["marginTop:16px;"]),ya=Oi.default.div.withConfig({displayName:"style__PointCloudPanelLineContainer",componentId:"bs1pga-0"})(["margin-top:12px;"]),wa=n(1005),ka=n(995),_a=Object(ze.a)([R],(function(e){return{filter:e}})),Ca=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,i=Object(p.c)(_a).filter;return Object(Pi.jsxs)(Oa,{children:[Object(Pi.jsxs)(ya,{children:[Object(Pi.jsx)(wa.a,{label:n("point_cloud_x_from"),type:"number",name:"x-from",step:"0.1",value:i.filterXFromLimit,onChange:function(e){var n=e.target.value;Object(ka.a)(n)&&t(z(n))},style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"standard"}),Object(Pi.jsx)(wa.a,{id:"outlined-number",label:n("point_cloud_x_to"),type:"number",name:"x-to",step:"0.1",value:i.filterXToLimit,onChange:function(e){return t(E(e.target.value))},style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"standard"})]}),Object(Pi.jsxs)(ya,{children:[Object(Pi.jsx)(wa.a,{id:"outlined-number",label:n("point_cloud_y_from"),type:"number",name:"y-from",step:"0.1",value:i.filterYFromLimit,onChange:function(e){return t(F(e.target.value))},style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"standard"}),Object(Pi.jsx)(wa.a,{id:"outlined-number",label:n("point_cloud_y_to"),type:"number",name:"y-to",step:"0.1",value:i.filterYToLimit,onChange:function(e){return t(B(e.target.value))},style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"standard"})]}),Object(Pi.jsxs)(ya,{children:[Object(Pi.jsx)(wa.a,{id:"outlined-number",label:n("point_cloud_z_from"),type:"number",name:"z-from",step:"0.1",value:i.filterZFromLimit,onChange:function(e){return t(G(e.target.value))},style:{width:100,height:20},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"standard"}),Object(Pi.jsx)(wa.a,{id:"outlined-number",label:n("point_cloud_z_to"),type:"number",name:"z-to",step:"0.1",value:i.filterZToLimit,onChange:function(e){return t(U(e.target.value))},style:{width:100,marginLeft:24},InputLabelProps:{shrink:!0},inputProps:{step:.1},variant:"standard"})]})]})})),Sa=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,i=Object(p.c)(L);return Object(Pi.jsx)(ca.a,{bounds:"parent",handle:"strong",defaultPosition:{x:16,y:16},grid:[25,25],children:Object(Pi.jsx)(ha,{isActive:i,width:257,height:240,children:Object(Pi.jsxs)("section",{children:[Object(Pi.jsx)(ba,{children:Object(Pi.jsxs)(fa,{children:[Object(Pi.jsx)(ja,{children:Object(Pi.jsx)(ma,{variant:"subtitle1",children:n("point_cloud_filters")})}),Object(Pi.jsx)(Vi.a,{title:n("close"),style:{float:"right"},children:Object(Pi.jsx)("label",{children:Object(Pi.jsx)(Yi.a,{component:"span",size:"small",onClick:function(){return t(V())},color:"primary",children:Object(Pi.jsx)(Cr,{})})})})]})}),Object(Pi.jsx)(Ca,{})]})})})})),Ia=n(994),Pa=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,i=Object(p.c)(Fe);return Object(Pi.jsx)("div",{children:Object(Pi.jsxs)(va,{children:[Object(Pi.jsxs)(xa,{value:i,onChange:function(e){t(De(e.target.value))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(Pi.jsx)(Di.a,{value:pn.Topology,children:n("scheme_mode_topology")}),Object(Pi.jsx)(Di.a,{value:pn.RibGeometry,children:n("scheme_mode_rib_geometry")})]}),Object(Pi.jsx)(Ia.a,{children:n("mode")})]})})})),Ta=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,r=Object(p.c)(fe);return Object(Pi.jsx)(i.Fragment,{children:Object(Pi.jsxs)(va,{children:[Object(Pi.jsxs)(xa,{value:r,onChange:function(e){t(ve(e.target.value))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(Pi.jsx)(Di.a,{value:$.Orthographic,children:n("orthographic")}),Object(Pi.jsx)(Di.a,{value:$.Perspective,children:n("perspective")})]}),Object(Pi.jsx)(Ia.a,{children:n("camera")})]})})})),Aa=n(36),La=n(1001),Ra=n(343),Ma=Object(Aa.a)({root:{color:Ra.a[400],"&$checked":{color:Ra.a[600]}},checked:{}})((function(e){return Object(Pi.jsx)(La.a,Object(wi.a)({color:"default"},e))})),Na=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,r=Object(p.c)(ye);return Object(Pi.jsx)(i.Fragment,{children:Object(Pi.jsx)(ga,{control:Object(Pi.jsx)(Ma,{checked:r,onChange:function(e){t(_e(e.target.checked))}}),label:n("showAxisOnCameraTarget")})})})),za=Object(Oi.withTheme)((function(e){var t=e.scene,n=Object(Wi.a)().t,i=ji(),r=Object(p.c)(Y);return Object(Pi.jsx)(ca.a,{bounds:"parent",handle:"strong",defaultPosition:{x:16,y:16},grid:[25,25],children:Object(Pi.jsx)(ha,{isActive:r,width:264,height:250,children:Object(Pi.jsxs)("section",{children:[Object(Pi.jsx)(ba,{children:Object(Pi.jsxs)(fa,{children:[Object(Pi.jsx)(ja,{children:Object(Pi.jsx)(ma,{variant:"subtitle1",children:n("scheme_settings")})}),Object(Pi.jsx)(Vi.a,{title:n("close"),style:{float:"right"},children:Object(Pi.jsx)("label",{children:Object(Pi.jsx)(Yi.a,{component:"span",size:"small",onClick:function(){return i(q())},color:"primary",children:Object(Pi.jsx)(Cr,{})})})})]})}),Object(Pi.jsx)(Pa,{}),Object(Pi.jsx)(Ta,{}),Object(Pi.jsx)(Na,{scene:t})]})})})})),Ea=Oi.default.div.withConfig({displayName:"style__OnCanvasContainer",componentId:"sc-1tto5d9-0"})(["position:fixed;height:calc(100vh - ","px);background:transparent;left:0;top:81px;right:0;"],(function(e){return Mi("header")(e)+Mi("footer")(e)+Mi("instrumentalPanel")(e)})),Fa=Oi.default.div.withConfig({displayName:"style__OnCanvasContainerWithEvents",componentId:"sc-1tto5d9-1"})(["position:fixed;height:calc(100vh - ","px);background:transparent;pointer-events:none;left:0;top:81px;right:0;"],(function(e){return Mi("header")(e)+Mi("footer")(e)+Mi("instrumentalPanel")(e)})),Ba=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,i=Object(p.c)(ie);return Object(Pi.jsx)("div",{children:Object(Pi.jsxs)(va,{children:[Object(Pi.jsxs)(xa,{value:i,onChange:function(e){var n=e.target.value;switch(n){case b.Pressure:case b.Air:case b.None:}t(le(n))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(Pi.jsx)(Di.a,{value:b.None,children:n("none")}),Object(Pi.jsx)(Di.a,{value:b.Pressure,children:n("pressure")}),Object(Pi.jsx)(Di.a,{value:b.Air,children:n("models_air")})]}),Object(Pi.jsx)(Ia.a,{children:n("model")})]})})})),Ga=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(Wi.a)().t,r=Object(p.c)(ne);return Object(Pi.jsx)(i.Fragment,{children:Object(Pi.jsxs)(va,{children:[Object(Pi.jsxs)(xa,{value:r,onChange:function(e){t(se(e.target.value))},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:[Object(Pi.jsx)(Di.a,{value:h.Default,children:n("default")}),Object(Pi.jsx)(Di.a,{value:h.Aeroset,children:n("aeroset")}),Object(Pi.jsx)(Di.a,{value:h.Iron,children:n("iron")})]}),Object(Pi.jsx)(Ia.a,{children:n("gradient")})]})})})),Ua=Object(Oi.withTheme)((function(e){Object(p.c)(ne);var t=fn.get(Mt).getGradientAsCSSProperty();return Object(Pi.jsx)("div",{style:{background:t,height:150,width:50,marginTop:16,marginLeft:16}})})),Da=Object(Oi.withTheme)((function(e){e.scene;var t=Object(Wi.a)().t,n=ji(),i=Object(p.c)(te);return Object(Pi.jsx)(ca.a,{bounds:"parent",handle:"strong",defaultPosition:{x:16,y:16},grid:[25,25],children:Object(Pi.jsx)(ha,{isActive:i,width:257,height:340,children:Object(Pi.jsxs)("div",{children:[Object(Pi.jsx)(ba,{children:Object(Pi.jsxs)(fa,{children:[Object(Pi.jsx)(ja,{children:Object(Pi.jsx)(ma,{variant:"subtitle1",children:t("scheme_models")})}),Object(Pi.jsx)(Vi.a,{title:t("close"),style:{float:"right"},children:Object(Pi.jsx)("label",{children:Object(Pi.jsx)(Yi.a,{component:"span",size:"small",onClick:function(){return n(ce())},color:"primary",children:Object(Pi.jsx)(Cr,{})})})})]})}),Object(Pi.jsx)(Ba,{}),Object(Pi.jsx)(Ga,{}),Object(Pi.jsx)(Ua,{})]})})})})),Va=Object(i.forwardRef)((function(e,t){Object(i.useImperativeHandle)(t,(function(){return{initialize:s}}));var n=Object(i.useState)({scene:null}),r=Object(Gi.a)(n,2),a=r[0],o=r[1],c=a.scene,s=function(e){o({scene:e.scene})};return Object(Pi.jsx)(Fa,{children:Object(Pi.jsxs)(Fi.a,{smDown:!0,children:[Object(Pi.jsx)(Sa,{}),Object(Pi.jsx)(za,{scene:c}),Object(Pi.jsx)(Da,{scene:c})]})})})),Wa=Object(Oi.withTheme)(ea()(null)(Va)),Ha=n(15),Ya=function(e,t,n){var i=new jn.p(e),r=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(n);function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;t.setAttribute("width",(i-n).toString()),t.setAttribute("height",(r-n).toString()),e.resize()}return r&&null!==r&&(i.clearColor=new jn.e(r.r/255,r.g/255,r.b/255,1)),e.runRenderLoop((function(){i.render()})),t.onresize=function(){a()},window.onresize=function(){a()},a(1),a(0),i};jn.a.prototype._getViewMatrix=function(){var e=Math.cos(this.alpha),t=Math.sin(this.alpha),n=Math.cos(this.beta),i=Math.sin(this.beta);0===i&&(i=1e-4);var r=this._getTargetPosition();if(r.addToRef(new jn.t(this.radius*e*i,this.radius*n,this.radius*t*i),this._newPosition),this.getScene().collisionsEnabled&&this.checkCollisions)this._collider.radius=this.collisionRadius,this._newPosition.subtractToRef(this.position,this._collisionVelocity),this._collisionTriggered=!0,this.getScene().collisionCoordinator.getNewPosition(this.position,this._collisionVelocity,this._collider,3,null,this._onCollisionPositionChange,this.uniqueId);else{this.position.copyFrom(this._newPosition);var a=this.upVector;if(this.allowUpsideDown&&this.beta<0&&(a=(a=a.clone()).negate()),this.radius<0){var o=this.position.subtract(r);o.normalize(),jn.h.LookAtLHToRef(this.position,this.position.add(o),a,this._viewMatrix)}else jn.h.LookAtLHToRef(this.position,r,a,this._viewMatrix);this._viewMatrix.m[12]+=this.targetScreenOffset.x,this._viewMatrix.m[13]+=this.targetScreenOffset.y}return this._viewMatrix};var Xa=function(e,t){var n=new jn.a("Camera",0,0,-100,new jn.t(1,2,-3),t);n.setPosition(new jn.t(0,0,-100)),n.target=new jn.t(0,0,0),n.panningSensibility=200,n.orthoLeft=-8,n.orthoRight=8;var i,r,a=e.height/e.width;n.orthoTop=n.orthoRight*a,n.orthoBottom=n.orthoLeft*a,n.inputs.addMouseWheel(),n.attachControl(e,!1),n.alpha+=Math.PI,n.mode=jn.c.ORTHOGRAPHIC_CAMERA,n.wheelPrecision=100,n.pinchPrecision=30,n.minZ=.01,n.maxZ=1e3,n.lowerRadiusLimit=20,n.upperRadiusLimit=20;var o=!1;t.onPointerDown=function(a){if(a.ctrlKey){var c=t.pick(t.pointerX,t.pointerY);if(c.pickedMesh){var s=n.position.subtract(c.pickedPoint).normalize();i=jn.k.FromPositionAndNormal(c.pickedPoint,s),r=c.pickedPoint,o=!0,n.detachControl(e)}}},t.onPointerUp=function(){o=!1,n.attachControl(e,!0,!0)};var c=jn.h.Identity();return t.onPointerMove=function(e){if(o){var a=t.createPickingRay(t.pointerX,t.pointerY,c,n,!1),s=a.intersectsPlane(i);if(null===s)return;var l=a.direction.scale(s).add(a.origin).subtract(r);n.target.subtractInPlace(l)}},n},Za=function(e,t){var n=new jn.l("Omni",new jn.t(10,50,50),e);return e.registerBeforeRender((function(){n.position=t.position})),n},Ka=0,qa=null;function Ja(e,t,n){e.onPointerObservable.add((function(e,t){var i=e.event;!function(e,t){var n=.9*Math.max(-1,Math.min(1,e));(n>0&&Ka<50||n<0)&&(Ka+=n,Qa(t,n,qa))}(i.wheelDelta||-i.detail||i.deltaY,n)}),jn.m.POINTERWHEEL),e.onPointerObservable.add((function(){qa=jn.t.Unproject(new jn.t(e.pointerX,e.pointerY,0),t.getRenderWidth(),t.getRenderHeight(),n.getWorldMatrix(),n.getViewMatrix(),n.getProjectionMatrix())}),jn.m.POINTERMOVE)}var $a,Qa=function(e,t,n){if(n){var i=Math.abs(e.orthoLeft-e.orthoRight),r=Math.abs(e.orthoTop-e.orthoBottom),a=r/i,o=(e.orthoLeft-n.x)/i;e.orthoLeft-=o*t;var c=(e.orthoRight-n.x)/i;e.orthoRight-=c*t;var s=(e.orthoTop-n.y)/r;e.orthoTop-=s*t*a;var l=(e.orthoBottom-n.y)/r;e.orthoBottom-=l*t*a,e.panningSensibility=6250/Math.abs(i/2)}},eo=Object(i.forwardRef)((function(e,t){Object(i.useImperativeHandle)(t,(function(){return{initialize:s}}));var n=Object(i.useState)({scene:null,camera:null}),a=Object(Gi.a)(n,2),o=a[0],c=a[1],s=(o.scene,o.camera,function(){var e=Object(zt.a)(ot.a.mark((function e(t){var n,i;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.scene,i=t.camera,c({scene:n,camera:i});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(Pi.jsx)(r.a.Fragment,{})})),to=na()(ea()(null)(eo)),no=function(e,t,n){var i=function(e,t,n,i){var a=new jn.f("DynamicTexture",50,i,!0);a.hasAlpha=!0,a.drawText(e,5,40,"bold 36px Arial",t,"transparent",!0);var o=r.CreatePlane("TextPlane",n,i,!0),c=new jn.q("TextPlaneMaterial",i);return c.specularColor=new jn.d(0,0,0),c.diffuseTexture=a,o.material=c,o.material.backFaceCulling=!1,o},r=jn.i,a=r.CreateLines("axisX",[jn.t.Zero(),new jn.t(t,0,0),new jn.t(.95*t,.05*t,0),new jn.t(t,0,0),new jn.t(.95*t,-.05*t,0)],e);a.color=new jn.d(1,0,0);var o=i("X","red",t/10,e);o.position=new jn.t(n.x+.9*t,n.y+-.05*t,n.z);var c=r.CreateLines("axisY",[jn.t.Zero(),new jn.t(0,t,0),new jn.t(-.05*t,.95*t,0),new jn.t(0,t,0),new jn.t(.05*t,.95*t,0)],e);c.color=new jn.d(0,1,0);var s=i("Y","green",t/10,e);s.position=new jn.t(n.x,n.y+.9*t,n.z+-.05*t);var l=r.CreateLines("axisZ",[jn.t.Zero(),new jn.t(0,0,t),new jn.t(0,-.05*t,.95*t),new jn.t(0,0,t),new jn.t(0,.05*t,.95*t)],e);l.color=new jn.d(0,0,1);var u=i("Z","blue",t/10,e);return u.position=new jn.t(n.x,n.y+.05*t,n.z+.9*t),a.position=n,c.position=n,l.position=n,[a,c,l,o,s,u]},io=null,ro=Object(Oi.withTheme)((function(e){var t=ji(),n=e.scene,r=!1,a=Object(p.c)(pe),o=Object(p.c)(ye);if(o&&n&&a)io=no(n,2,new jn.t(a.x,a.y,a.z));else if(!o&&n&&io){var c,s=Object(lt.a)(io);try{for(s.s();!(c=s.n()).done;){c.value.dispose()}}catch(h){s.e(h)}finally{s.f()}}Object(i.useEffect)((function(){var e=fn.get(At);return e.subscribe(Ht,u),e.subscribe(Yt,d),e.subscribe(Xt,l),function(){e.unsubscribe(Ht,u),e.unsubscribe(Yt,d),e.unsubscribe(Xt,l)}}),[n,a,o]);var l=function(e){r&&n&&function(e){var i=new jn.t(e.screenX,e.screenY,0),a=n.getEngine(),o=jn.t.Unproject(i,a.getRenderWidth(),a.getRenderHeight(),jn.h.Identity(),n.getViewMatrix(),n.getProjectionMatrix());t(Oe({x:o.x,y:o.y,z:o.z})),r=!1,document.documentElement.style.cursor="default",n.activeCamera.target=o}(e[0])},u=function(e){var t=e[0];"c"!==t&&"C"!==t||(r=!0,document.documentElement.style.cursor="crosshair")},d=function(e){var t=e[0];"c"!==t&&"C"!==t||(r=!1,document.documentElement.style.cursor="default")};return Object(Pi.jsx)(Ea,{})})),ao=Object(i.forwardRef)((function(e,t){Object(i.useImperativeHandle)(t,(function(){return{initialize:s}}));var n=Object(i.useState)({scene:null}),r=Object(Gi.a)(n,2),a=r[0],o=r[1],c=a.scene,s=function(e){o({scene:e.scene})};return Object(Pi.jsx)(Fa,{children:Object(Pi.jsx)(ro,{scene:c})})})),oo=Object(Oi.withTheme)(ea()(null)(ao)),co=n(568),so=function(e){var t=new jn.i("Topology rib base mesh",e);t.visibility=0;var n=new jn.i("Geometry rib base mesh",e);n.visibility=0;var i=jn.j.CreateSphere("Node base mesh",{diameter:.15,updatable:!0},e);return i.visibility=0,{materials:{ribGradientMaterial:new co.a("Gradient material",e),ribMaterial:new jn.q("Rib material",e),nodeMaterial:new jn.q("Node material",e)},baseMeshes:{nodeBaseMesh:i,topologyRibBaseMesh:t,geometryRibBaseMesh:n}}},lo=Object(Oi.withTheme)((function(e){var t=Object(i.useRef)(null),n=Object(i.useRef)(null),r=Object(i.useRef)(null),a=Object(i.useRef)(null),o=Object(i.useRef)(null);Object(i.useEffect)((function(){return o.current&&c(o.current),function(){o.current&&(o.current.onclick=null)}}),[]);var c=function(){var i=Object(zt.a)(ot.a.mark((function i(o){var c,l,u,d,h,b,p,f;return ot.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(Zr()){i.next=4;break}return console.error("Canvas is not supported!"),alert("Canvas is not supported!"),i.abrupt("return");case 4:c=new Ha.a(o,!0),l=Ri(Si.lightGraySecond)(e),u=Ya(c,o,l),d=Xa(o,u),h=Za(u,d),b=so(u),Ja(u,c,d),(p=fn.get(Tt)).engine=c,p.scene=u,p.camera=d,p.light=h,p.resources=b,f={camera:d,canvas:o,scene:u},n.current&&n.current.initialize(f),t.current&&t.current.initialize(f),r.current&&r.current.initialize(f),a.current&&a.current.initialize(f),o.onclick=s;case 23:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}(),s=function(e){fn.get(At).send(Xt,e)};return Object(Pi.jsxs)("div",{id:"canvasContainer",children:[Object(Pi.jsx)(Kr,{ref:o}),Object(Pi.jsx)(to,{ref:n}),Object(Pi.jsx)(aa,{ref:t}),Object(Pi.jsx)(Wa,{ref:r}),Object(Pi.jsx)(oo,{ref:a})]})})),uo=Oi.default.div.withConfig({displayName:"style__HeaderMobilePanelContainer",componentId:"sc-15vg9o0-0"})(["background:",";height:","px;flexGrow:1;"],Ri(Si.lightGray),Mi("headerMobile")),ho=n(985),bo=n(986),po=n(1003),fo=n(983),jo=n(940),mo=n(988),Oo=n(989);!function(e){e[e.None=0]="None",e[e.PointCloudFilters=1]="PointCloudFilters",e[e.SchemeSettings=2]="SchemeSettings"}($a||($a={}));var vo=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=ji(),a=Object(i.useState)({subMenuIsOpen:!1}),o=Object(Gi.a)(a,2),c=o[0],s=o[1],l=c.subMenuIsOpen,u=function(){var e=fn.get(At);e.send(Wt,{contentType:$a.PointCloudFilters}),e.send(Vt,{})},d=Ri(Si.mediumGray)(e);return Object(Pi.jsxs)(r.a.Fragment,{children:[Object(Pi.jsxs)(jo.a,{button:!0,onClick:function(){s({subMenuIsOpen:!l})},children:[Object(Pi.jsx)(ir.a,{children:Object(Pi.jsx)(Ir,{})}),Object(Pi.jsx)(mo.a,{primary:t("point_cloud")}),l?Object(Pi.jsx)(Tr,{}):Object(Pi.jsx)(Ar,{})]}),Object(Pi.jsx)(Oo.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(Pi.jsxs)(fo.a,{component:"div",disablePadding:!0,children:[Object(Pi.jsx)(jo.a,{button:!0,style:{paddingLeft:32},children:Object(Pi.jsxs)(i.Fragment,{children:[Object(Pi.jsx)("input",{color:"primary",type:"file",onChange:function(e){var t;e.preventDefault();var i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&void 0!==i&&(fn.get(At).send(Vt,{}),n(y(i)))},id:"icon-button-file",style:{display:"none"}}),Object(Pi.jsx)("label",{htmlFor:"icon-button-file",children:Object(Pi.jsx)(ir.a,{children:Object(Pi.jsx)(Rr,{style:{color:d}})})}),Object(Pi.jsx)("label",{htmlFor:"icon-button-file",children:Object(Pi.jsx)(mo.a,{primary:t("load_file_with_point_cloud")})})]})}),Object(Pi.jsxs)(jo.a,{button:!0,style:{paddingLeft:32},children:[Object(Pi.jsx)(Mr,{onClick:u,children:Object(Pi.jsx)(yr,{style:{color:d}})}),Object(Pi.jsx)(mo.a,{onClick:u,primary:t("open_panel_point_cloud_filters")})]}),Object(Pi.jsxs)(jo.a,{button:!0,style:{paddingLeft:32},children:[Object(Pi.jsx)(Mr,{children:Object(Pi.jsx)(_r,{style:{color:d}})}),Object(Pi.jsx)(mo.a,{primary:t("point_cloud_clear")})]})]})})]})})),go=Oi.default.section.withConfig({displayName:"style__DrawerContainer",componentId:"sc-1gp9wxq-0"})(["width:250px;"]),xo=Oi.default.div.withConfig({displayName:"style__DrawerHeader",componentId:"sc-1gp9wxq-1"})(["display:flex;justify-content:flex-end;align-items:center;padding:",";","{height:104px;}","{height:56px;}"],(function(e){return e.theme.spacing(0,1)}),(function(e){return e.theme.breakpoints.up("sm")}),(function(e){return e.theme.breakpoints.down("sm")})),yo=Object(Oi.default)(da.a).withConfig({displayName:"style__DrawerHeaderTitle",componentId:"sc-1gp9wxq-2"})(["color:",";margin-right:auto;margin-left:16px;"],Ri(Si.darkBlue)),wo=function(e){var t=Object(Wi.a)().t,n=e.isDark;return Object(Pi.jsxs)("div",{style:{color:n?"black":"white"},children:["     ",t("version"),": ",fn.get(Lt).GetVersion()]})},ko=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=ji(),a=Object(i.useState)({subMenuIsOpen:!1}),o=Object(Gi.a)(a,2),c=o[0],s=o[1],l=c.subMenuIsOpen,u=function(){var e=fn.get(At);e.send(Wt,{contentType:$a.SchemeSettings}),e.send(Vt,{})},d=Ri(Si.mediumGray)(e);return Object(Pi.jsxs)(r.a.Fragment,{children:[Object(Pi.jsxs)(jo.a,{button:!0,onClick:function(){s({subMenuIsOpen:!l})},children:[Object(Pi.jsx)(ir.a,{children:Object(Pi.jsx)(Pr,{})}),Object(Pi.jsx)(mo.a,{primary:t("scheme")}),l?Object(Pi.jsx)(Tr,{}):Object(Pi.jsx)(Ar,{})]}),Object(Pi.jsx)(Oo.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(Pi.jsxs)(fo.a,{component:"div",disablePadding:!0,children:[Object(Pi.jsx)(jo.a,{button:!0,style:{paddingLeft:32},children:Object(Pi.jsxs)(i.Fragment,{children:[Object(Pi.jsx)("input",{color:"primary",type:"file",onChange:function(e){var t;e.preventDefault();var i=null===(t=e.target.files)||void 0===t?void 0:t[0];i&&void 0!==i&&(fn.get(At).send(Vt,{}),n(S(i)),e.target.value="")},id:"icon-button-file",style:{display:"none"}}),Object(Pi.jsx)("label",{htmlFor:"icon-button-file",children:Object(Pi.jsx)(ir.a,{children:Object(Pi.jsx)(Rr,{style:{color:d}})})}),Object(Pi.jsx)("label",{htmlFor:"icon-button-file",children:Object(Pi.jsx)(mo.a,{primary:t("load_file_with_scheme")})})]})}),Object(Pi.jsxs)(jo.a,{button:!0,style:{paddingLeft:32},children:[Object(Pi.jsx)(Mr,{onClick:u,children:Object(Pi.jsx)(wr,{style:{color:d}})}),Object(Pi.jsx)(mo.a,{onClick:u,primary:t("scheme_settings")})]})]})})]})})),_o=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=Object(i.useState)({isOpen:!1}),r=Object(Gi.a)(n,2),a=r[0],o=r[1],c=a.isOpen;Object(i.useEffect)((function(){o({isOpen:e.isOpen})}),[e.isOpen]);var s=function(){fn.get(At).send(Vt,{})};return Object(Pi.jsx)(po.a,{anchor:"left",open:c,onClose:s,children:Object(Pi.jsxs)(go,{children:[Object(Pi.jsxs)(xo,{children:[Object(Pi.jsx)(yo,{variant:"h5",children:t("aeroset")}),Object(Pi.jsx)(Vi.a,{title:t("close"),children:Object(Pi.jsx)(Yi.a,{onClick:s,children:Object(Pi.jsx)(Sr,{onClick:s})})})]}),Object(Pi.jsx)(Ur.a,{}),Object(Pi.jsxs)(fo.a,{component:"nav","aria-labelledby":"nested-list-subheader",style:{width:"100%"},children:[Object(Pi.jsx)(ko,{}),Object(Pi.jsx)(vo,{})]}),Object(Pi.jsx)("div",{style:{position:"absolute",bottom:8,left:8},children:Object(Pi.jsx)(wo,{isDark:!0})})]})})})),Co=Oi.default.section.withConfig({displayName:"style__DrawerBottomContainer",componentId:"sc-6kgsav-0"})(["height:270px;align-content:center;"]),So=Oi.default.div.withConfig({displayName:"style__DrawerBottomHeader",componentId:"sc-6kgsav-1"})(["display:flex;vertical-align:center;justify-content:flex-end;align-items:center;padding:",";"],(function(e){return e.theme.spacing(0,1)})),Io=Oi.default.div.withConfig({displayName:"style__MobilePanelContainer",componentId:"sc-6kgsav-2"})(["visibility:",";"],(function(e){return e.currentType&&e.stateType&&e.currentType.valueOf()===e.stateType.valueOf()?"visible":"collapse"})),Po=n(566),To=n.n(Po),Ao=Object(Oi.withTheme)((function(e){return Object(Pi.jsx)(pa,{children:Object(Pi.jsx)(Ca,{})})})),Lo=Object(Oi.withTheme)((function(e){return Object(Pi.jsx)(pa,{children:Object(Pi.jsx)(Pa,{})})})),Ro=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=Object(i.useState)({isOpen:!1,visiblePanel:$a}),r=Object(Gi.a)(n,2),a=r[0],o=r[1],c=a.isOpen,s=a.visiblePanel;Object(i.useEffect)((function(){var e=fn.get(At);return e.subscribe(Wt,l),function(){e.unsubscribe(Wt,l)}}),[]);var l=function(e){var t=e[0];o({visiblePanel:t.contentType,isOpen:!0})},u=function(){o(Object(wi.a)(Object(wi.a)({},a),{},{isOpen:!1}))};return Object(Pi.jsx)(po.a,{anchor:"bottom",open:c,onClose:u,children:Object(Pi.jsxs)(Co,{children:[Object(Pi.jsxs)(So,{children:[Object(Pi.jsx)("div",{style:{marginRight:"auto"},children:Object(Pi.jsxs)(da.a,{variant:"h6",children:[Object(Pi.jsx)(Io,{currentType:$a.PointCloudFilters,stateType:s,children:t("point_cloud_filters")}),Object(Pi.jsx)(Io,{currentType:$a.SchemeSettings,stateType:s,children:t("scheme_settings")})]})}),Object(Pi.jsx)(Vi.a,{title:t("close"),children:Object(Pi.jsx)(Yi.a,{onClick:u,children:Object(Pi.jsx)(To.a,{onClick:u})})})]}),Object(Pi.jsx)(Dr,{}),Object(Pi.jsx)(Io,{currentType:$a.PointCloudFilters,stateType:s,children:Object(Pi.jsx)(Ao,{})}),Object(Pi.jsx)(Io,{currentType:$a.SchemeSettings,stateType:s,children:Object(Pi.jsx)(Lo,{})})]})})})),Mo=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=Object(i.useState)({drawerIsOpen:!1}),r=Object(Gi.a)(n,2),a=r[0],o=r[1];Object(i.useEffect)((function(){var t=fn.get(At);return t.subscribe(Vt,c),o({isOpen:e.isOpen}),function(){t.unsubscribe(Vt,c)}}),[e.isOpen]);var c=function(e){o({drawerIsOpen:!1})};return Object(Pi.jsxs)(uo,{children:[Object(Pi.jsx)(ho.a,{position:"fixed",children:Object(Pi.jsxs)(bo.a,{style:{background:e.theme.app.colors.main.darkBlue},children:[Object(Pi.jsx)(Vi.a,{title:t("menu"),children:Object(Pi.jsx)(Yi.a,{size:"medium","aria-label":"open drawer",style:{verticalAlign:"middle"},onClick:function(){o({drawerIsOpen:!0})},children:Object(Pi.jsx)(Nr,{})})}),Object(Pi.jsx)(da.a,{variant:"h6",style:{display:"block",flexGrow:1,marginLeft:16},children:"'Scheme name'"}),Object(Pi.jsx)(Vi.a,{title:t("actions"),children:Object(Pi.jsx)(Yi.a,{size:"small",style:{marginLeft:10},children:Object(Pi.jsx)(zr,{})})}),Object(Pi.jsx)(Vi.a,{title:t("user_account"),children:Object(Pi.jsx)(Yi.a,{size:"small",style:{marginLeft:10},children:Object(Pi.jsx)(Er,{})})})]})}),Object(Pi.jsx)(_o,{isOpen:a.drawerIsOpen}),Object(Pi.jsx)(Ro,{})]})})),No=n(1004),zo=n(998),Eo=Oi.default.div.withConfig({displayName:"style__SnackbarWrapper",componentId:"sc-1522knk-0"})(["width:100%;height:100%;"]),Fo=n(975),Bo=Object(Oi.withTheme)((function(e){var t=Object(Wi.a)().t,n=Object(i.useState)({open:!1,alertType:"success",message:"",isVersionSnackbar:!1}),r=Object(Gi.a)(n,2),a=r[0],o=r[1];Object(i.useEffect)((function(){var e=fn.get(At);return e.subscribe(Ut,c),e.subscribe(Dt,s),function(){e.unsubscribe(Ut,c),e.unsubscribe(Dt,s)}}),[]);var c=function(e){var t=e[0],n=t.message,i=t.alertType,r=t.callback;o({isVersionSnackbar:!1,open:!0,message:n,alertType:i,callback:r})},s=function(e){var t=e[0],n=t.message,i=t.alertType,r=t.callback;o({open:!0,message:n,alertType:i,callback:r,isVersionSnackbar:!0})},l=a.open,u=a.message,d=(a.callback,a.alertType),h=a.isVersionSnackbar,b=Object(Pi.jsx)(Fo.a,{color:"primary",size:"small",onClick:function(){return location.reload(),!1},children:t("update")});return Object(Pi.jsxs)(Eo,{children:[Object(Pi.jsx)(No.a,{style:{position:"absolute",alignContent:"center"},anchorOrigin:{vertical:"bottom",horizontal:"right"},open:l,onClose:function(e,t){"timeout"===t&&o(Object(wi.a)(Object(wi.a)({},a),{},{open:!1}))},autoHideDuration:h?null:5e3,children:Object(Pi.jsx)(zo.a,{onClose:function(){o(Object(wi.a)(Object(wi.a)({},a),{},{open:!1}))},severity:d,style:{verticalAlign:"middle"},closeText:t("close"),action:h?b:null,children:u})}),Object(Pi.jsx)("div",{children:e.children})]})})),Go=n.p+"static/media/mining.f7ff7ae6.jpg",Uo=n.p+"static/media/logo-en.fc80b1ae.png",Do=Oi.default.div.withConfig({displayName:"style__AuthFormContainer",componentId:"sc-170lxd4-0"})(["width:100%;height:100%;"]),Vo=Oi.default.div.withConfig({displayName:"style__AuthBackground",componentId:"sc-170lxd4-1"})(["background-image:url(",");background-position:left center;background-repeat:no-repeat;filter:blur(2px);z-index:-1;width:100%;height:100%;position:absolute;background-size:cover;left:0;top:0;"],Go),Wo=Oi.default.div.withConfig({displayName:"style__LogoContainer",componentId:"sc-170lxd4-2"})(["transform:rotate(90deg);background-image:url(",");background-position:left center;background-repeat:no-repeat;z-index:-1;width:100px;height:300px;position:absolute;background-size:cover;left:130px;top:-70px;"],Uo),Ho=Oi.default.div.withConfig({displayName:"style__SignInContainer",componentId:"sc-170lxd4-3"})(["display:flex;align-items:center;width:100vw;height:100vh;"]),Yo=Oi.default.div.withConfig({displayName:"style__SignInFormContainer",componentId:"sc-1e0avnk-0"})(["max-width:300px;margin:auto auto;text-align:center;background:#f7f7f7;border-radius:10px;padding-top:10px;"]),Xo=Object(Oi.default)(Fo.a).withConfig({displayName:"style__SubmitButton",componentId:"sc-1e0avnk-1"})(["width:200px;margin-top:24px;background:",";"],Ri(Si.darkBlue)),Zo=Object(Oi.withTheme)((function(e){var t=ji(),n=Object(i.useRef)(),r=Object(i.useRef)();return Object(Pi.jsx)(Yo,{children:Object(Pi.jsx)("div",{style:{height:250},children:Object(Pi.jsxs)("form",{noValidate:!0,no:!0,children:[Object(Pi.jsx)(wa.a,{inputRef:n,variant:"standard",margin:"normal",id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0}),Object(Pi.jsx)(wa.a,{inputRef:r,variant:"standard",margin:"normal",name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(Pi.jsx)(Xo,{type:"submit",variant:"contained",color:"primary",onClick:function(e){var i=n.current.value,a=r.current.value;try{t($e({login:i,password:a}))}finally{n.current.value=null,r.current.value=null,e.preventDefault()}},children:"Sign In"})]})})})})),Ko=Object(Oi.withTheme)((function(e){return Object(Pi.jsxs)(Do,{children:[Object(Pi.jsx)(Ho,{children:Object(Pi.jsx)(Zo,{})}),Object(Pi.jsx)(Vo,{}),Object(Pi.jsx)(Wo,{})]})})),qo=Object(Oi.withTheme)((function(e){var t=Object(p.c)(Je);return Object(Pi.jsxs)("section",{children:[Object(Pi.jsx)(Bo,{children:Object(Pi.jsxs)(Ei,{isAuthenticated:t,children:[Object(Pi.jsx)(Fi.a,{smDown:!0,children:Object(Pi.jsx)("div",{style:{position:"absolute",left:8,top:8},children:Object(Pi.jsx)(wo,{})})}),Object(Pi.jsxs)(Bi.a,{container:!0,spacing:0,alignItems:"stretch",direction:"column",children:[Object(Pi.jsx)(Fi.a,{smDown:!0,children:Object(Pi.jsx)(Bi.a,{item:!0,xs:12,children:Object(Pi.jsx)(Fr,{})})}),Object(Pi.jsx)(Fi.a,{mdUp:!0,children:Object(Pi.jsx)(Bi.a,{item:!0,xs:12,children:Object(Pi.jsx)(Mo,{})})}),Object(Pi.jsx)(Bi.a,{item:!0,xs:12,children:Object(Pi.jsx)(Vr,{})}),Object(Pi.jsx)(Fi.a,{smDown:!0,children:Object(Pi.jsx)(Bi.a,{item:!0,xs:12,children:Object(Pi.jsx)(Xr,{})})}),Object(Pi.jsx)(Fi.a,{smDown:!0,children:Object(Pi.jsx)(Bi.a,{item:!0,xs:12,children:Object(Pi.jsx)(Vr,{})})}),Object(Pi.jsx)(Bi.a,{item:!0,xs:12,children:Object(Pi.jsx)(Ni,{children:Object(Pi.jsx)(lo,{})})})]})]})}),Object(Pi.jsx)(zi,{isAuthenticated:t,children:Object(Pi.jsx)(Ko,{})})]})})),Jo=n(972),$o=n(536),Qo=n.n($o);function ec(e,t){t._;var n=fn.get(At),i={message:c.a.t("new_version"),alertType:"info"};n.send("SHOW_NEW_VERSION_EVENT",i)}o.a.render(Object(Pi.jsxs)(p.a,{store:pi,children:[Object(Pi.jsx)(gi,{}),Object(Pi.jsx)(Jo.a,{}),Object(Pi.jsx)(Ti,{children:Object(Pi.jsx)(i.Suspense,{fallback:"",children:Object(Pi.jsx)(qo,{})})})]}),document.getElementById("root")),window.onerror=function(e,t,n){return!1},function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/custom-sw.js");console.log(t),u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):d(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):d(t,e)}))}}({onUpdate:function(e){return console.log("New Version"),Qo()(e,{render:ec})}})}},[[934,1,2]]]);
//# sourceMappingURL=main.2fa5c574.chunk.js.map